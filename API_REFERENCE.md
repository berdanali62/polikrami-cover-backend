# API Referans - Polikrami Cover Backend

**Base URL**: `/api/v1`

---

## üîê Auth (`/auth`)

### POST `/register`
- **Fonksiyon**: `registerController`
- **FE ‚Üí BE**: `{ name, email, password, confirmPassword, role?, acceptTerms, acceptPrivacy, acceptRevenueShare? }`
- **BE ‚Üí FE**: `{ user, accessToken, refreshToken }`

### POST `/login`
- **Fonksiyon**: `loginController`
- **FE ‚Üí BE**: `{ email, password }`
- **BE ‚Üí FE**: `{ user, accessToken, refreshToken }`

### POST `/refresh`
- **Fonksiyon**: `refreshController`
- **FE ‚Üí BE**: `{ refreshToken }`
- **BE ‚Üí FE**: `{ accessToken, refreshToken }`

### POST `/logout`
- **Fonksiyon**: `logoutController`
- **FE ‚Üí BE**: `{ refreshToken? }`
- **BE ‚Üí FE**: `{ message }`

### POST `/forgot-password`
- **Fonksiyon**: `forgotPasswordController`
- **FE ‚Üí BE**: `{ email }`
- **BE ‚Üí FE**: `{ message }`

### POST `/verify-reset-code`
- **Fonksiyon**: `verifyResetCodeController`
- **FE ‚Üí BE**: `{ email, code }`
- **BE ‚Üí FE**: `{ resetToken, message }`

### POST `/reset-password`
- **Fonksiyon**: `resetPasswordController`
- **FE ‚Üí BE**: `{ resetToken, newPassword }`
- **BE ‚Üí FE**: `{ message }`

### POST `/resend-verification`
- **Fonksiyon**: `resendVerificationController`
- **FE ‚Üí BE**: `{ email }`
- **BE ‚Üí FE**: `{ message }`

### POST `/verify-email`
- **Fonksiyon**: `verifyEmailController`
- **FE ‚Üí BE**: `{ token }`
- **BE ‚Üí FE**: `{ message, emailVerified }`

---

## üë§ Users (`/users`)

### GET `/me`
- **Fonksiyon**: `meController` 
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ id, name, email, phone, role, profile }`

### PUT `/me`
- **Fonksiyon**: `updateProfileController`
- **FE ‚Üí BE**: `{ phone?, company?, address1?, address2?, city?, state?, postalCode?, country?, preferences? }`
- **BE ‚Üí FE**: `{ id, name, email, profile }`

### POST `/me/change-password`
- **Fonksiyon**: `changePasswordController`
- **FE ‚Üí BE**: `{ currentPassword, newPassword }`
- **BE ‚Üí FE**: `{ message }`

### PUT `/password`
- **Fonksiyon**: `changePasswordController`
- **FE ‚Üí BE**: `{ currentPassword, newPassword }`
- **BE ‚Üí FE**: `{ message }`

### POST `/phone/send-code`
- **Fonksiyon**: `sendPhoneCodeController`
- **FE ‚Üí BE**: `{ phone }`
- **BE ‚Üí FE**: `{ message }`

### POST `/phone/verify`
- **Fonksiyon**: `verifyPhoneCodeController`
- **FE ‚Üí BE**: `{ phone, code }`
- **BE ‚Üí FE**: `{ message, phoneVerified }`

### POST `/phone/firebase-verify`
- **Fonksiyon**: `firebasePhoneVerifyController`
- **FE ‚Üí BE**: `{ firebaseToken, phone }`
- **BE ‚Üí FE**: `{ message, phoneVerified }`

### PUT `/designer-profile`
- **Fonksiyon**: `updateDesignerProfileController` 
- **FE ‚Üí BE**: `{ artistBio?, specialization?, isAvailable?, iban?, behanceUrl?, dribbbleUrl?, linkedinUrl?, websiteUrl? }`
- **BE ‚Üí FE**: `{ profile }`

### GET `/designer-profile`
- **Fonksiyon**: `getDesignerProfileController` 
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ artistBio, specialization, isAvailable, iban, behanceUrl, dribbbleUrl, linkedinUrl, websiteUrl }`

### GET `/privacy-settings`
- **Fonksiyon**: `getPrivacySettingsController` 
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ showEmail, showPhone, showAddress, showPortfolio }`

### PUT `/privacy-settings`
- **Fonksiyon**: `updatePrivacySettingsController` 
- **FE ‚Üí BE**: `{ showEmail?, showPhone?, showAddress?, showPortfolio? }`
- **BE ‚Üí FE**: `{ message, settings }`

---

## üìù Drafts (`/drafts`)

### POST `/`
- **Fonksiyon**: `create`
- **FE ‚Üí BE**: `{ method, categoryId, aiPrompt?, templateId?, assignedDesignerId? }`
- **BE ‚Üí FE**: `{ id, userId, method, categoryId, status, workflowStatus }`

### GET `/`
- **Fonksiyon**: `list`
- **FE ‚Üí BE**: Query: `page?, limit?, status?, method?`
- **BE ‚Üí FE**: `{ drafts[], pagination }`

### GET `/:id`
- **Fonksiyon**: `get`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, userId, method, status, assignedDesigner, files, messageCard, shipping, billingAddress }`

### PUT `/:id`
- **Fonksiyon**: `update`
- **FE ‚Üí BE**: `{ aiPrompt?, coverType? }`
- **BE ‚Üí FE**: `{ id, aiPrompt, updatedAt }`

### POST `/:id/presign`
- **Fonksiyon**: `getUploadUrl`
- **FE ‚Üí BE**: `{ filename, contentType }`
- **BE ‚Üí FE**: `{ url, key, expiresIn }`

### POST `/:id/upload`
- **Fonksiyon**: `uploadFile`
- **FE ‚Üí BE**: FormData: `file`
- **BE ‚Üí FE**: `{ message, fileUrl, fileId }`

### POST `/:id/message-card`
- **Fonksiyon**: `setMessageCard`
- **FE ‚Üí BE**: `{ messageCard: { text, cardType } }`
- **BE ‚Üí FE**: `{ messageCard, updatedAt }`

### POST `/:id/shipping`
- **Fonksiyon**: `setShipping`
- **FE ‚Üí BE**: `{ shipping: { firstName, lastName, phone, address, city, state, country, postalCode } }`
- **BE ‚Üí FE**: `{ shipping, updatedAt }`

### POST `/:id/shipping/address`
- **Fonksiyon**: `setShippingFromAddress`
- **FE ‚Üí BE**: `{ addressId }`
- **BE ‚Üí FE**: `{ shipping }`

### POST `/:id/billing`
- **Fonksiyon**: `setBillingAddress`
- **FE ‚Üí BE**: `{ billingAddress: {...} \| "same_as_shipping" }`
- **BE ‚Üí FE**: `{ billingAddress }`

### POST `/:id/assign-designer`
- **Fonksiyon**: `assignDesigner`
- **FE ‚Üí BE**: `{ designerId }`
- **BE ‚Üí FE**: `{ assignedDesigner, workflowStatus }`

### POST `/:id/commit`
- **Fonksiyon**: `commit`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ order }`

### POST `/:id/preview`
- **Fonksiyon**: `sendPreview`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ message, workflowStatus, updatedAt }`

### POST `/:id/revision`
- **Fonksiyon**: `requestRevision`
- **FE ‚Üí BE**: `{ comments }`
- **BE ‚Üí FE**: `{ message, workflowStatus, revisionComments, updatedAt }`

### POST `/:id/approve`
- **Fonksiyon**: `approve`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ message, workflowStatus, status, updatedAt }`

### POST `/:id/cancel`
- **Fonksiyon**: `cancel`
- **FE ‚Üí BE**: `{ reason? }`
- **BE ‚Üí FE**: `{ message, status, cancelReason }`

### GET `/:id/workflow-history`
- **Fonksiyon**: `getWorkflowHistory`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ history[] }`

### GET `/:id/revisions`
- **Fonksiyon**: `getRevisionDetails`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ revisions[], totalRevisions }`

---

## üõçÔ∏è Orders (`/orders`)

### GET `/`
- **Fonksiyon**: `listMyOrdersController`
- **FE ‚Üí BE**: Query: `status?, page?, limit?, sortBy?, sortOrder?`
- **BE ‚Üí FE**: `{ orders[], pagination }`

### GET `/:id`
- **Fonksiyon**: `getOrderController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, userId, draftId, status, totalAmount, items[], shippingAddress, payments[], shipments[], timeline[] }`

### POST `/:id/status`
- **Fonksiyon**: `updateOrderStatusTestController`
- **FE ‚Üí BE**: `{ status }`
- **BE ‚Üí FE**: `{ id, status, updatedAt }`

### POST `/:id/cancel`
- **Fonksiyon**: `cancelOrderController`
- **FE ‚Üí BE**: `{ reason? }`
- **BE ‚Üí FE**: `{ message, status, refundStatus, refundAmount, estimatedRefundDate }`

---

## üí≥ Payments (`/payments`)

### POST `/initiate`
- **Fonksiyon**: `initiatePaymentController`
- **FE ‚Üí BE**: `{ orderId, paymentMethod }`
- **BE ‚Üí FE**: `{ paymentId, redirectUrl, status, amount, currency, expiresAt }`

### POST `/credit-card`
- **Fonksiyon**: `initiateCreditCardPaymentController`
- **FE ‚Üí BE**: `{ orderId, cardNumber, cardHolderName, expiryMonth, expiryYear, cvv, saveCard? }`
- **BE ‚Üí FE**: `{ paymentId, status, transactionId, message }`

### GET `/:paymentId/status`
- **Fonksiyon**: `getPaymentStatusController`
- **FE ‚Üí BE**: Params: `paymentId`
- **BE ‚Üí FE**: `{ paymentId, orderId, status, amount, currency, method, transactionId, paidAt, cardInfo }`

### POST `/refund`
- **Fonksiyon**: `refundPaymentController`
- **FE ‚Üí BE**: `{ paymentId, reason?, amount? }`
- **BE ‚Üí FE**: `{ refundId, paymentId, amount, status, estimatedCompletionDate, message }`

### POST `/callback`
- **Fonksiyon**: `paymentCallbackController`
- **FE ‚Üí BE**: Provider-specific data
- **BE ‚Üí FE**: `{ success, message }`

### GET `/mock/success`
- **Fonksiyon**: `mockPaymentSuccessController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: Mock success response

### GET `/mock/failure`
- **Fonksiyon**: `mockPaymentFailureController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: Mock failure response

---

## üë®‚Äçüé® Designers (`/designers`)

### GET `/`
- **Fonksiyon**: `listDesignersController`
- **FE ‚Üí BE**: Query: `search?, category?, minRating?, maxRating?, page?, limit?, sortBy?, sortOrder?`
- **BE ‚Üí FE**: `{ designers[], pagination }`

### GET `/recommended`
- **Fonksiyon**: `recommendedDesignersController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ designers[] }`

### GET `/sorted`
- **Fonksiyon**: `listDesignersSortedController`
- **FE ‚Üí BE**: Query: `sortType?, limit?`
- **BE ‚Üí FE**: `{ designers[], sortType }`

### POST `/:id/reviews`
- **Fonksiyon**: `createReviewController`
- **FE ‚Üí BE**: `{ rating, comment, orderId? }`
- **BE ‚Üí FE**: `{ id, designerId, userId, rating, comment, orderId, createdAt }`

### GET `/:id/reviews`
- **Fonksiyon**: `listReviewsController`
- **FE ‚Üí BE**: Query: `page?, limit?, sortBy?, sortOrder?`
- **BE ‚Üí FE**: `{ reviews[], statistics, pagination }`

### GET `/public/:id`
- **Fonksiyon**: `publicProfileController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, name, avatarUrl, profile: { artistBio, specialization, isAvailable, behanceUrl, dribbbleUrl, linkedinUrl, websiteUrl }, rating: { avg, count } }`

### GET `/public`
- **Fonksiyon**: `searchDesignersController`
- **FE ‚Üí BE**: Query: `q?, skill?, limit?`
- **BE ‚Üí FE**: `{ designers[] }`

### GET `/pending-jobs`
- **Fonksiyon**: `getPendingJobsController` 
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ jobs[] }`

### GET `/active-jobs`
- **Fonksiyon**: `getActiveJobsController` 
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ jobs[] }`

### GET `/completed-jobs`
- **Fonksiyon**: `getCompletedJobsController` 
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ jobs[] }`

### POST `/jobs/:id/accept`
- **Fonksiyon**: `acceptJobController` 
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message, jobId, status }`

### POST `/jobs/:id/reject`
- **Fonksiyon**: `rejectJobController` 
- **FE ‚Üí BE**: Params: `id`, Body: `{ reason? }`
- **BE ‚Üí FE**: `{ message, jobId, status }`

### POST `/jobs/:id/submit`
- **Fonksiyon**: `submitJobController` 
- **FE ‚Üí BE**: Params: `id`, Body: `{ files[], message? }`
- **BE ‚Üí FE**: `{ message, jobId, status }`

### POST `/jobs/:id/revision`
- **Fonksiyon**: `handleRevisionController` 
- **FE ‚Üí BE**: Params: `id`, Body: `{ files[], message? }`
- **BE ‚Üí FE**: `{ message, jobId, status }`

---

## üí∞ Wallet (`/wallet`)

### GET `/`
- **Fonksiyon**: `getBalanceController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ balance, currency, userId, lastUpdated }`

### GET `/history`
- **Fonksiyon**: `getHistoryController`
- **FE ‚Üí BE**: Query: `page?, limit?, type?, startDate?, endDate?`
- **BE ‚Üí FE**: `{ transactions[], pagination, summary }`

### GET `/stats`
- **Fonksiyon**: `getStatsController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ totalCreditsEarned, totalCreditsSpent, currentBalance, totalPurchases, monthlyStats[], categoryBreakdown }`

### POST `/grant`
- **Fonksiyon**: `grantCreditsController` (üîê Admin)
- **FE ‚Üí BE**: `{ userId, amount, reason? }`
- **BE ‚Üí FE**: `{ message, balance }`

### POST `/purchase`
- **Fonksiyon**: `purchaseCreditsController`
- **FE ‚Üí BE**: `{ packageType, amount? }`
- **BE ‚Üí FE**: `{ purchaseId, packageType, credits, amount, currency, paymentUrl, expiresAt }`

### GET `/credit-history`
- **Fonksiyon**: `getCreditHistoryController` 
- **FE ‚Üí BE**: Query: `page?, limit?, type?, startDate?, endDate?`
- **BE ‚Üí FE**: `{ transactions[], pagination }`

### GET `/credit-packages`
- **Fonksiyon**: `getCreditPackagesController` 
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ packages[] }`

### POST `/credit-packages/:id/purchase`
- **Fonksiyon**: `purchaseCreditPackageController` 
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ purchaseId, packageId, credits, amount, paymentUrl }`

---

## üì¶ Shipments (`/shipments`)

### GET `/carriers`
- **Fonksiyon**: `listCarriersController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ carriers[] }`

### GET `/public/:id/events`
- **Fonksiyon**: `getShipmentEventsPublicController`
- **FE ‚Üí BE**: Params: `id`, Query: `token?`
- **BE ‚Üí FE**: `{ shipmentId, trackingNumber, carrier, currentStatus, events[], estimatedDelivery }`

### GET `/orders/:id/shipments`
- **Fonksiyon**: `getOrderShipmentsController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ shipments[] }`

### GET `/:id/events`
- **Fonksiyon**: `getShipmentEventsController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ shipmentId, trackingNumber, carrier, currentStatus, events[], estimatedDelivery }`

### POST `/orders/:id/shipments`
- **Fonksiyon**: `createShipmentController` (üîê Admin)
- **FE ‚Üí BE**: `{ carrier, trackingNumber, estimatedDelivery? }`
- **BE ‚Üí FE**: `{ id, orderId, carrier, trackingNumber, status }`

### POST `/:id/sync`
- **Fonksiyon**: `syncShipmentController` (üîê Admin)
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message, status }`

### POST `/webhook/:provider`
- **Fonksiyon**: `webhookController`
- **FE ‚Üí BE**: Provider-specific data
- **BE ‚Üí FE**: `{ success }`

---

## üìÆ Addresses (`/addresses`)

### GET `/`
- **Fonksiyon**: `listAddressesController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ addresses[] }`

### GET `/default`
- **Fonksiyon**: `getDefaultAddressController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ id, title, firstName, lastName, address, city, isDefault }`

### GET `/:id`
- **Fonksiyon**: `getAddressController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, title, firstName, lastName, phone, address, city, district, postalCode, isDefault }`

### POST `/`
- **Fonksiyon**: `createAddressController`
- **FE ‚Üí BE**: `{ title, firstName, lastName, phone, address, city, district?, state?, country, postalCode, isDefault? }`
- **BE ‚Üí FE**: `{ id, title, firstName, lastName, address, city, isDefault, createdAt }`

### PUT `/:id`
- **Fonksiyon**: `updateAddressController`
- **FE ‚Üí BE**: `{ title?, firstName?, lastName?, phone?, address?, city?, district?, postalCode?, isDefault? }`
- **BE ‚Üí FE**: `{ id, title, firstName, lastName, address, updatedAt }`

### POST `/:id/default`
- **Fonksiyon**: `setDefaultAddressController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message, addressId, isDefault }`

### DELETE `/:id`
- **Fonksiyon**: `deleteAddressController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message, deletedId }`

---

## üìÑ Templates (`/templates`)

### GET `/`
- **Fonksiyon**: `listTemplatesController`
- **FE ‚Üí BE**: Query: `category?, search?, tags?, page?, limit?, sortBy?`
- **BE ‚Üí FE**: `{ templates[], pagination }`

### GET `/popular`
- **Fonksiyon**: `getPopularTemplatesController`
- **FE ‚Üí BE**: Query: `limit?`
- **BE ‚Üí FE**: `{ templates[] }`

### GET `/slug/:slug`
- **Fonksiyon**: `getTemplateBySlugController`
- **FE ‚Üí BE**: Params: `slug`
- **BE ‚Üí FE**: `{ id, name, slug, description, previewImages[], features[], customizableElements[], dimensions, fileFormats[], category, tags[], isPremium, price, designer, usageCount, rating }`

### GET `/:id`
- **Fonksiyon**: `getTemplateByIdController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, name, slug, description, ... }` (aynƒ± yapƒ±)

### POST `/`
- **Fonksiyon**: `createTemplateController`
- **FE ‚Üí BE**: `{ name, description, categoryId, previewImage, tags?, isPremium?, price? }`
- **BE ‚Üí FE**: `{ id, name, slug, category, isPremium, price, createdAt }`

### PUT `/:id`
- **Fonksiyon**: `updateTemplateController`
- **FE ‚Üí BE**: `{ name?, description?, previewImage?, tags?, isPremium?, price? }`
- **BE ‚Üí FE**: `{ id, name, slug, updatedAt }`

### DELETE `/:id`
- **Fonksiyon**: `deleteTemplateController` (üîê Admin)
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message }`

---

## üìÇ Categories (`/categories`)

### GET `/`
- **Fonksiyon**: `listCategoriesController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ categories[] }`

### GET `/:id`
- **Fonksiyon**: `getCategoryController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, name, slug, description, icon, coverImage, templateCount, designerCount, popularTemplates[], topDesigners[], relatedCategories[] }`

### POST `/`
- **Fonksiyon**: `createCategoryController` (üîê Admin)
- **FE ‚Üí BE**: `{ name, slug, description?, icon?, coverImage? }`
- **BE ‚Üí FE**: `{ id, name, slug, createdAt }`

### PUT `/:id`
- **Fonksiyon**: `updateCategoryController` (üîê Admin)
- **FE ‚Üí BE**: `{ name?, slug?, description?, icon?, coverImage? }`
- **BE ‚Üí FE**: `{ id, name, slug, updatedAt }`

### DELETE `/:id`
- **Fonksiyon**: `deleteCategoryController` (üîê Admin)
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message }`

---

## üîç Search (`/search`)

### GET `/`
- **Fonksiyon**: `globalSearchController`
- **FE ‚Üí BE**: Query: `q, type?, category?, tag?, page?, limit?`
- **BE ‚Üí FE**: `{ query, results: { templates, designers, projects }, totalResults, searchTime }`

### GET `/suggestions`
- **Fonksiyon**: `searchSuggestionsController`
- **FE ‚Üí BE**: Query: `q, limit?`
- **BE ‚Üí FE**: `{ suggestions[] }`

---

## üé® AI (`/ai`)

### POST `/drafts/:id/ai/generate`
- **Fonksiyon**: `generateController`
- **FE ‚Üí BE**: `{ prompt, coverType?, style?, aspectRatio? }`
- **BE ‚Üí FE**: `{ jobId, status, message, estimatedTime, creditsUsed }`

### GET `/drafts/:id/ai/results`
- **Fonksiyon**: `resultsController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ status, results[], selectedResultId, totalResults }`

### POST `/drafts/:id/ai/select`
- **Fonksiyon**: `selectController`
- **FE ‚Üí BE**: `{ resultId }`
- **BE ‚Üí FE**: `{ message, selectedResult }`

### POST `/drafts/:id/ai/regen`
- **Fonksiyon**: `regenController`
- **FE ‚Üí BE**: `{ modifications?, prompt? }`
- **BE ‚Üí FE**: `{ jobId, status, creditsUsed }`

### GET `/ai/templates`
- **Fonksiyon**: `listTemplatesController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ templates[] }`

### POST `/ai/templates/render`
- **Fonksiyon**: `renderTemplateController`
- **FE ‚Üí BE**: `{ templateId, variables }`
- **BE ‚Üí FE**: `{ renderedPrompt }`

### GET `/drafts/:id/ai/original/:imageKey`
- **Fonksiyon**: `(inline handler)`
- **FE ‚Üí BE**: Params: `id, imageKey`
- **BE ‚Üí FE**: PNG image file

---

## ‚ù§Ô∏è Likes (`/likes`)

### POST `/toggle`
- **Fonksiyon**: `toggleLikeController`
- **FE ‚Üí BE**: `{ messageCardId }`
- **BE ‚Üí FE**: `{ liked, totalLikes, message }`

### GET `/cards/:id/summary`
- **Fonksiyon**: `getLikeSummaryController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ messageCardId, totalLikes, recentLikes }`

---

## üí¨ Comments (`/comments`)

### GET `/`
- **Fonksiyon**: `listCommentsController`
- **FE ‚Üí BE**: Query: `projectId, layerId?, status?, page?, limit?`
- **BE ‚Üí FE**: `{ comments[], pagination }`

### GET `/projects/:projectId/stats`
- **Fonksiyon**: `getProjectStatsController`
- **FE ‚Üí BE**: Params: `projectId`
- **BE ‚Üí FE**: `{ total, open, resolved, averageRating }`

### GET `/:id`
- **Fonksiyon**: `getCommentController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, projectId, layerId, authorId, authorName, body, status, rating, createdAt, updatedAt }`

### POST `/`
- **Fonksiyon**: `createCommentController`
- **FE ‚Üí BE**: `{ projectId, body, targetLayerId?, rating? }`
- **BE ‚Üí FE**: `{ id, projectId, body, status, createdAt }`

### PUT `/:id`
- **Fonksiyon**: `updateCommentController`
- **FE ‚Üí BE**: `{ body?, status?, rating? }`
- **BE ‚Üí FE**: `{ id, body, status, updatedAt }`

### DELETE `/:id`
- **Fonksiyon**: `deleteCommentController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message }`

---

## üîî Notifications (`/notifications`)

### GET `/`
- **Fonksiyon**: `listMyNotificationsController`
- **FE ‚Üí BE**: Query: `read?, page?, limit?`
- **BE ‚Üí FE**: `{ notifications[], unreadCount, pagination }`

### PUT `/:id/read`
- **Fonksiyon**: `markNotificationAsReadController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message, readAt }`

### PUT `/mark-all-read`
- **Fonksiyon**: `markAllAsReadController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ message, count }`

### DELETE `/:id`
- **Fonksiyon**: `deleteNotificationController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message }`

---

## üíå Message Cards (`/message-cards`)

### GET `/`
- **Fonksiyon**: `listMessageCardsController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ messageCards[] }`

### GET `/popular`
- **Fonksiyon**: `popularMessageCardsController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ messageCards[] }`

---

## üìÅ Projects (`/projects`)

### GET `/`
- **Fonksiyon**: `listProjectsController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ projects[] }`

### POST `/`
- **Fonksiyon**: `createProjectController`
- **FE ‚Üí BE**: `{ name, description? }`
- **BE ‚Üí FE**: `{ id, name, description, ownerId, status, createdAt }`

### GET `/:id`
- **Fonksiyon**: `getProjectController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, name, description, ownerId, status, members[], createdAt }`

### PUT `/:id`
- **Fonksiyon**: `updateProjectController`
- **FE ‚Üí BE**: `{ name?, description? }`
- **BE ‚Üí FE**: `{ id, name, description, updatedAt }`

### DELETE `/:id`
- **Fonksiyon**: `deleteProjectController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message }`

### GET `/:id/members`
- **Fonksiyon**: `listMembersController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ members[] }`

### POST `/:id/members`
- **Fonksiyon**: `addMemberController`
- **FE ‚Üí BE**: `{ userId, role? }`
- **BE ‚Üí FE**: `{ message, member }`

### DELETE `/:id/members/:userId`
- **Fonksiyon**: `removeMemberController`
- **FE ‚Üí BE**: Params: `id, userId`
- **BE ‚Üí FE**: `{ message }`

---

## üè¢ Organizations (`/organizations`)

### GET `/`
- **Fonksiyon**: `listMyOrganizationsController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ organizations[] }`

### GET `/:id`
- **Fonksiyon**: `getOrganizationController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, name, description, ownerId, members[], createdAt }`

### POST `/`
- **Fonksiyon**: `createOrganizationController`
- **FE ‚Üí BE**: `{ name, description? }`
- **BE ‚Üí FE**: `{ id, name, description, ownerId, createdAt }`

### PUT `/:id`
- **Fonksiyon**: `updateOrganizationController`
- **FE ‚Üí BE**: `{ name?, description? }`
- **BE ‚Üí FE**: `{ id, name, description, updatedAt }`

### DELETE `/:id`
- **Fonksiyon**: `deleteOrganizationController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message }`

### POST `/:id/members`
- **Fonksiyon**: `addMemberController`
- **FE ‚Üí BE**: `{ userId, role }`
- **BE ‚Üí FE**: `{ message, member }`

### PUT `/:id/members/:userId`
- **Fonksiyon**: `updateMemberRoleController`
- **FE ‚Üí BE**: `{ role }`
- **BE ‚Üí FE**: `{ message, member }`

### DELETE `/:id/members/:userId`
- **Fonksiyon**: `removeMemberController`
- **FE ‚Üí BE**: Params: `id, userId`
- **BE ‚Üí FE**: `{ message }`

---

## üîÑ Returns (`/returns`)

### GET `/`
- **Fonksiyon**: `listMyReturnsController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ returns[] }`

### POST `/`
- **Fonksiyon**: `createReturnController`
- **FE ‚Üí BE**: `{ orderId, reason, images? }`
- **BE ‚Üí FE**: `{ id, orderId, status, reason, requestedAt, estimatedProcessTime }`

### PUT `/:id/cancel`
- **Fonksiyon**: `cancelReturnController` 
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message, status }`

### GET `/:id/tracking`
- **Fonksiyon**: `getReturnTrackingController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ returnId, status, trackingInfo, estimatedProcessTime }`

### PUT `/:id/status`
- **Fonksiyon**: `updateReturnStatusController` (üîê Admin)
- **FE ‚Üí BE**: `{ status }`
- **BE ‚Üí FE**: `{ id, status, updatedAt }`

---

## üìß Contact (`/contact`)

### POST `/`
- **Fonksiyon**: `contactController`
- **FE ‚Üí BE**: `{ name, email, subject, message, phone? }`
- **BE ‚Üí FE**: `{ message, submissionId, estimatedResponseTime }`

### GET `/submissions`
- **Fonksiyon**: `getSubmissionsController` (üîê Admin)
- **FE ‚Üí BE**: Query: `status?, page?, limit?`
- **BE ‚Üí FE**: `{ submissions[], pagination }`

### PATCH `/submissions/:id`
- **Fonksiyon**: `updateSubmissionController` (üîê Admin)
- **FE ‚Üí BE**: `{ status, notes? }`
- **BE ‚Üí FE**: `{ message }`

---

## üìé Assets (`/assets`)

### GET `/`
- **Fonksiyon**: `listMyAssetsController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ assets[] }`

### GET `/stats`
- **Fonksiyon**: `getStorageStatsController`
- **FE ‚Üí BE**: -
- **BE ‚Üí FE**: `{ totalAssets, totalSize, usedSpace, availableSpace, quota }`

### GET `/:id`
- **Fonksiyon**: `getAssetController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ id, type, name, url, size, mimeType, createdAt }`

### DELETE `/:id`
- **Fonksiyon**: `deleteAssetController`
- **FE ‚Üí BE**: Params: `id`
- **BE ‚Üí FE**: `{ message }`



## üìå Notlar

- **Auth**: ‚úÖ = Token gerekli, üîì = Public endpoint
- **Admin**: üîê = Sadece admin eri≈üebilir
- **Rate Limits**: Her mod√ºl√ºn kendi rate limit ayarlarƒ± var
- **CSRF Token**: POST/PUT/DELETE isteklerinde `X-CSRF-Token` header'ƒ± gerekli
- **Pagination**: √áoƒüu liste endpoint'i `page` ve `limit` query parametrelerini destekler

---

